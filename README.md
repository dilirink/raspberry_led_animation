# LED Effects Control Server
![alt text](ui.png)
–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–≤–µ—Ç–æ–≤—ã–º–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏ LED –º–∞—Ç—Ä–∏—Ü—ã 64x64.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üé® –ö—Ä–∞—Å–∏–≤—ã–π —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚ö° –ó–∞–ø—É—Å–∫ –∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ –æ–¥–Ω–∏–º –∫–ª–∏–∫–æ–º
- üìù –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –Ω–∞–∑–≤–∞–Ω–∏–π –∏ –æ–ø–∏—Å–∞–Ω–∏–π —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
- üîÑ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –∑–∞–ø—É—â–µ–Ω–Ω–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞
- üì± –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞
1. –∫–∞—á–∞–µ–º —Ç—É—Ç –æ–±—Ä–∞–∑ https://dietpi.com/#downloadinfo
2. —Å—Ç–∞–≤–∏–º –æ–±—Ä–∞–∑ –Ω–∞ SD
3. –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º wifi –∏ –ø–∞—Ä–æ–ª—å  root https://dietpi.com/docs/install/
```
–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ wifi log\pass

To setup the WiFi, open the SD card folder, and update next two files using a text editor of your choice:

1. Open the file named¬†`dietpi.txt`. Find¬†`AUTO_SETUP_NET_WIFI_ENABLED`¬†and set to value 1.
2. Open the file¬†`dietpi-wifi.txt`¬†and set¬†`aWIFI_SSID[0]`¬†to the name of your WiFi network.
3. In the same file¬†`dietpi-wifi.txt`, set¬†`aWIFI_KEY[0]`¬†to the password of your WiFi network.
4. Save and close the files
```

```
–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–æ–ª—è —Ä—É—Ç–∞ 

A login prompt will appear. Use the initial credentials:

- login:¬†`root`
- password:¬†`dietpi`¬†(resp. the one you set via¬†`dietpi.txt`)

```

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
pip install flask
```

2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–æ–≤:

```bash
pip install pillow numpy noise opensimplex
```

## –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

```bash
cd rpi_server
python app.py
```

–°–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ –∞–¥—Ä–µ—Å—É: `http://localhost:5000`

–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∏–∑ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ IP-–∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞.

## –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤

1. –°–æ–∑–¥–∞–π—Ç–µ Python —Ñ–∞–π–ª –≤ –ø–∞–ø–∫–µ `effects/`
2. –î–æ–±–∞–≤—å—Ç–µ –≤ –Ω–∞—á–∞–ª–æ —Ñ–∞–π–ª–∞ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ:

```python
#!/usr/bin/env python
# –ù–ê–ó–í–ê–ù–ò–ï: –ù–∞–∑–≤–∞–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∞
# –û–ü–ò–°–ê–ù–ò–ï: –û–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≥–æ, —á—Ç–æ –¥–µ–ª–∞–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç
```

3. –≠—Ñ—Ñ–µ–∫—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—è–≤–∏—Ç—Å—è –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

**–í–∞–∂–Ω–æ:** –≠—Ñ—Ñ–µ–∫—Ç—ã –±–µ–∑ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (–ù–ê–ó–í–ê–ù–ò–ï –∏ –û–ü–ò–°–ê–ù–ò–ï) –Ω–µ –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
rpi_server/
‚îú‚îÄ‚îÄ app.py                  # Flask –≤–µ–±-—Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ templates/
‚îÇ   ‚îî‚îÄ‚îÄ index.html         # –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îú‚îÄ‚îÄ effects/               # –ü–∞–ø–∫–∞ —Å —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ peresechenie.py
‚îÇ   ‚îú‚îÄ‚îÄ processing_wave.py
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ README.md
```

## API Endpoints

- `GET /` - –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º
- `GET /api/effects` - –°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
- `GET /api/effects/current` - –¢–µ–∫—É—â–∏–π –∑–∞–ø—É—â–µ–Ω–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç
- `POST /api/effects/start` - –ó–∞–ø—É—Å—Ç–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç
- `POST /api/effects/stop` - –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API

### –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤

```bash
curl http://localhost:5000/api/effects
```

### –ó–∞–ø—É—Å—Ç–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç

```bash
curl -X POST http://localhost:5000/api/effects/start \
  -H "Content-Type: application/json" \
  -d '{"effect": "peresechenie"}'
```

### –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç

```bash
curl -X POST http://localhost:5000/api/effects/stop
```

